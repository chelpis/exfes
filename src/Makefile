CC = gcc

CFLAGS = -std=c99
CFLAGS += -Wall -Wextra -Wpedantic
CFLAGS += -O3

OBJS = wrapper.o idx_LUT.o exfes.o common.o binomials.o autogenerated_c-tester_deg_2.o autogenerated_c-sequential_deg_2.o

all: test test1 test2

test: test.o $(OBJS)
	$(CC) -o test test.o $(OBJS)

test1: test1.o $(OBJS)
	$(CC) -o test1 test1.o $(OBJS)

test2: test2.o $(OBJS)
	$(CC) -o test2 test2.o $(OBJS)
test.o: test.c $(OBJS)
	$(CC) $(CFLAGS) -c test.c -o test.o

test1.o: test1.c $(OBJS)
	$(CC) $(CFLAGS) -c test1.c -o test1.o

test2.o: test2.c $(OBJS)
	$(CC) $(CFLAGS) -c test2.c -o test2.o

%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@

.PHONY: clean
clean:
	rm -f *.o test test1 test2
